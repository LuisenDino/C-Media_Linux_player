<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Page Title</title>
    <style>
        body{
            background-color: yellowgreen;
        }

        div{
            background-color: rgba(0,0,0, 0.5);
        }
    </style>
    <!--<script src='main.js'></script>-->
</head>
<body>
    <script>
        var Ciel = {
            MPC:{
                WebPlayer : {
                    Controles: {
                        Impresion :{
                            NotificarError: function(error){
                                alert(error)
                            }
                        },
                        Omnidireccional:{
                            Honeywell:{
                                NotificarError: function(error){
                                    alert(error)
                                },
                                EstablecerJsonDocumento : function(json){
                                    ced = document.getElementById("cedula");
                                    ced.innerHTML = ""
                                    table = document.createElement("table");
                                    tbody = document.createElement("tbody");
                                    Object.keys(json).forEach(function(element){
                                        trow = document.createElement("tr");
                                        th = document.createElement("th");
                                        th.innerHTML = element;
                                        cedula = document.createElement("td")
                                        cedula.innerHTML = json[element]
                                        trow.appendChild(th)
                                        trow.appendChild(cedula)
                                        tbody.appendChild(trow)
                                    })

                                    table.appendChild(tbody)
                                    ced.appendChild(table)
                                },
                                EstablecerCodigo : function(codigo){
                                    ced = document.getElementById("cedula");
                                    ced.innerHTML = ""  
                                    p = document.createElement("p")
                                    p.innerHTML = codigo
                                    ced.appendChild(p)
                                }
                            }
                        }
                    }
                }
            }
        }

        function send_text(){   
               window.api.printer.imprimir(document.getElementById("texto").value);
        }

        function get_paper(){
            
            try{
                window.api.printer.get_paper().then(function(response){
                    document.getElementById("paper_state").innerHTML = response.message
                })
                
            }catch(error){
                document.getElementById("paper_state").innerHTML = error; 
            }
            
        }

        function get_cedula(){
            alert("hola")
        }
    </script>
    <p id="error"></p>
    <h1>Hola Mundo!</h1>
    <a href="https://github.com/cztomczak/cefpython/blob/master/examples/tkinter_.py">Link</a>
    <div>
        <textarea id="texto" rows="15" cols="20" wrap="soft"></textarea>
        <button id="print" onclick="send_text()">Print</button>
    </div>
    <div>
        <p id="paper_state">Hola</p>
        <button id="paper", onclick="get_paper()">Estado del papel</button>
    </div>
    <div id="cedula">
        <button id="get_cedula", onclick="get_cedula()">Obtener Cedula</button>
    </div>

</body>
</html>